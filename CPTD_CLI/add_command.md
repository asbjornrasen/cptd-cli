

# üì¶ –ö–æ–º–∞–Ω–¥–∞ `command` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CLI-–∫–æ–º–∞–Ω–¥–∞–º–∏ –≤ CPTD DSL

–ö–æ–º–∞–Ω–¥–∞ `cptd command` –ø–æ–∑–≤–æ–ª—è–µ—Ç **–¥–æ–±–∞–≤–ª—è—Ç—å** –∏ **—É–¥–∞–ª—è—Ç—å** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Å–∏—Å—Ç–µ–º—É CPTD DSL, –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π `cptd_tools/commands`.

---

## üîπ –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
cptd command --add <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É.py>
cptd command --del <–∏–º—è_—Ñ–∞–π–ª–∞.py>
````

---

## üì• –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

–î–æ–±–∞–≤–ª—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π `.py`-—Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥ CLI (`site-packages/cptd_tools/commands/`). –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π –≤ CLI:

### ‚úÖ –ü—Ä–∏–º–µ—Ä

```bash
cptd command --add hello.py
cptd hello --name –ê—Å–±–π–æ—Ä–Ω
```

### ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- –ò–º—è —Ñ–∞–π–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è –∫–æ–º–∞–Ω–¥—ã (`hello.py` ‚Üí `cptd hello`)
    
- –í —Ñ–∞–π–ª–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—è:
    

```python
def run(argv):
    ...
```

- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `SYNTAX = {...}` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∏ (`--help`)
    

---

## üóë –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

–£–¥–∞–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É (—Ñ–∞–π–ª `.py`) –∏–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

### ‚úÖ –ü—Ä–∏–º–µ—Ä

```bash
cptd command --del hello.py
```

> –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É `command.py`.

---

## üìÇ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã?

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –ø–æ–º–æ—â—å—é:

```bash
python -c "import cptd_tools.commands as c; print(c.__file__)"
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –æ—Ç—Ç—É–¥–∞.

---

## üß™ –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã `hello.py`

```python
# hello.py

SYNTAX = {
    "name": "hello",
    "description": "Say hello to the user",
    "usage": "cptd hello [--name <–∏–º—è>]",
    "arguments": [
        {"name": "--name", "required": False, "help": "–ö–æ–º—É —Å–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç"}
    ],
    "examples": [
        "cptd hello",
        "cptd hello --name –ê—Å–±–π–æ—Ä–Ω"
    ]
}

def run(argv):
    import argparse
    parser = argparse.ArgumentParser()
    parser.add_argument("--name", default="World")
    args = parser.parse_args(argv)
    print(f"–ü—Ä–∏–≤–µ—Ç, {args.name}!")
```

---

## üë®‚Äçüíª –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ CPTD-–ø–ª–∞–≥–∏–Ω–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `run(argv)` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `SYNTAX`.
    
2. –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ:
    
    ```bash
    cptd command --add mycommand.py
    ```
    
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `cptd mycommand`
    
4. –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –ø–æ–ø–∞—Å—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–ª–∏–∑ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request.
    

---

## üß† –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `python -m py_compile <—Ñ–∞–π–ª.py>` –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º.
- –≠—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å! - –í–ê–ñ–ù–û!
    
- –ò–∑–±–µ–≥–∞–π—Ç–µ –∏–º—ë–Ω `del.py`, `class.py`, `import.py` ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞.
- –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞—Ç—å –∏–º–µ–Ω–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ CLI.
    
- –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ø–∞–∫–µ—Ç—ã –∫–æ–º–∞–Ω–¥.
    

---

¬© CryptoProtos CPTD DSL ‚Äî 2025
